START TRANSACTION;

CREATE TABLE VEGITABLE
(
vegitable_id INT(20) AUTO_INCREMENT PRIMARY KEY NOT NULL,
vegitable_name VARCHAR(255) NOT NULL,
vegitable_quantity VARCHAR(255) NOT NULL
);
CREATE UNIQUE INDEX vegitable_id_UNIQUE ON VEGITABLE (vegitable_id);

CREATE TABLE FARMERS
(
farmer_id INT(20) AUTO_INCREMENT PRIMARY KEY NOT NULL,
first_name VARCHAR(255) NOT NULL,
last_name VARCHAR(255) NOT NULL,
phonenumber INT(10) NOT NULL,
alias VARCHAR(255),
email VARCHAR(255),
address_mnemonic VARCHAR(255),
address VARCHAR(255)
);
CREATE UNIQUE INDEX farmer_id_UNIQUE ON FARMERS (farmer_id);

CREATE TABLE VENDORS
(
vendors_id INT(20) AUTO_INCREMENT PRIMARY KEY NOT NULL,
first_name VARCHAR(255) NOT NULL,
last_name VARCHAR(255) NOT NULL,
phonenumber INT(10) NOT NULL,
alias VARCHAR(255),
email VARCHAR(255),
address_mnemonic VARCHAR(255) NOT NULL,
address VARCHAR(255)
);
CREATE UNIQUE INDEX vendors_id_UNIQUE ON VENDORS (vendors_id);

CREATE TABLE FARMER_TRANSACTIONS
(
transaction_id INT(20) AUTO_INCREMENT PRIMARY KEY NOT NULL,
farmer_id VARCHAR(255) NOT NULL,
vegitable_id VARCHAR(255) NOT NULL,
vegitable_quantity INT(10) NOT NULL,
transaction_date DATE NOT NULL,
vegitable_cost INT(10) NOT NULL,
total_amount INT(10) NOT NULL
);
CREATE UNIQUE INDEX transaction_id_UNIQUE ON FARMER_TRANSACTIONS (transaction_id);

CREATE TABLE VENDOR_TRANSACTIONS (
  transaction_id INT NOT NULL,
  vendor_id VARCHAR(255) NOT NULL,
  vegitable_id VARCHAR(255) NOT NULL,
  vegitable_quantity INT NOT NULL,
  unit_price INT NOT NULL,
  total_amount INT NOT NULL,
  transaction_date DATETIME NOT NULL,
  UNIQUE INDEX transaction_id_UNIQUE (transaction_id ASC)
);

CREATE TABLE FARMER_PAYMENT_TRANSACTIONS 
(
 farmer_payment_id INT(255) AUTO_INCREMENT PRIMARY KEY NOT NULL,
 farmer_id INT(255) NOT NULL,
 payment_amount INT(255) NOT NULL,
 transaction_date DATETIME NOT NULL
);
CREATE UNIQUE INDEX farmer_payment_id_UNIQUE ON FARMER_PAYMENT_TRANSACTIONS (farmer_payment_id);

CREATE TABLE VENDOR_PAYMENT_TRANSACTIONS 
(
 vendor_payment_id INT(0) AUTO_INCREMENT PRIMARY KEY NOT NULL,
 vendor_id INT(20) NOT NULL,
 payment_amount INT(20) NOT NULL,
 transaction_date DATETIME NOT NULL
);
CREATE UNIQUE INDEX vendor_payment_id_UNIQUE ON VENDOR_PAYMENT_TRANSACTIONS (vendor_payment_id);

CREATE TABLE FARMER_PAYMENT
(
 payment_id INT(20) AUTO_INCREMENT PRIMARY KEY NOT NULL,
 farmer_id INT(20) NOT NULL,
 amount_due INT(20) NOT NULL
);
CREATE UNIQUE INDEX fpayment_id_UNIQUE ON FARMER_PAYMENT (payment_id);

CREATE TABLE VENDOR_PAYMENT
(
 payment_id INT(20) AUTO_INCREMENT PRIMARY KEY NOT NULL,
 vendor_id INT(20) NOT NULL,
 amount_due INT(20) NOT NULL
);
CREATE UNIQUE INDEX vpayment_id_UNIQUE ON VENDOR_PAYMENT (payment_id);

COMMIT;
